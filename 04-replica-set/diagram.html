<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>04 - ReplicaSet Architecture</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <link rel="stylesheet" href="../shared/styles.css">
    <script src="diagram.js"></script>
    <script src="../shared/diagram.js"></script>
</head>
<body>
    <div class="container difficulty-intermediate">
        <div class="navigation">
            <div>
                <a href="../03-replication-controller/diagram.html" class="nav-btn">â† Project 03</a>
            </div>
            <div>
                <a href="../index.html" class="nav-btn projects">ğŸ“‹ Projects</a>
            </div>
            <div>
                <a href="../05-deployment/diagram.html" class="nav-btn">Project 05 â†’</a>
            </div>
        </div>
        
        <div class="header">
            <h1>ğŸ¯ ReplicaSet Architecture</h1>
            <span class="complexity">Intermediate</span>
            <p>Modern replacement for ReplicationController with advanced selectors</p>
        </div>

        <div class="content">
            <div class="diagram-section">
                <div class="diagram-header">
                    <h2>System Architecture</h2>
                    <div class="zoom-controls">
                        <button class="zoom-btn" onclick="zoomIn()" title="Zoom In">+</button>
                        <button class="zoom-btn" onclick="zoomOut()" title="Zoom Out">-</button>
                        <button class="zoom-btn" onclick="resetZoom()" title="Reset Zoom">âŒ‚</button>
                        <button class="zoom-btn" onclick="fitToScreen()" title="Fit to Screen">â§‰</button>
                    </div>
                </div>
                <div id="mermaid-diagram">Loading diagram...</div>
            </div>

            <div class="info-panel">
                <div class="info-card">
                    <h3>ğŸ—ï¸ Components</h3>
                    <div class="component">
                        <strong>ReplicaSet:</strong> myapp-rs managing pod replicas
                    </div>
                    <div class="component">
                        <strong>Pods:</strong> 2 replicas with nginx containers
                    </div>
                    <div class="component">
                        <strong>Selector:</strong> matchLabels with type: front-end
                    </div>
                    <div class="component">
                        <strong>Template:</strong> Pod specification for nginx
                    </div>
                </div>

                <div class="info-card">
                    <h3>ğŸ¯ Key Concepts</h3>
                    <div class="component">
                        <strong>Set-based selectors:</strong> More expressive than equality-based
                    </div>
                    <div class="component">
                        <strong>Pod management:</strong> Ensures desired replica count
                    </div>
                    <div class="component">
                        <strong>Label matching:</strong> Uses matchLabels for pod selection
                    </div>
                    <div class="component">
                        <strong>Modern approach:</strong> Preferred over ReplicationController
                    </div>
                </div>

                <div class="info-card">
                    <h3>ğŸ“‹ Deployment Commands</h3>
                    <pre style="background: #2d3748; color: #e2e8f0; padding: 10px; border-radius: 5px; font-size: 0.8em;">
# Deploy the ReplicaSet
kubectl apply -f 04.00.replica_set.yml

# Check ReplicaSet status
kubectl get rs

# Check pods created
kubectl get pods

# Describe the ReplicaSet
kubectl describe rs myapp-rs

# Scale the ReplicaSet
kubectl scale rs myapp-rs --replicas=3

# Delete the ReplicaSet
kubectl delete rs myapp-rs</pre>
                </div>
            </div>
        </div>
    </div>

</body>
</html>