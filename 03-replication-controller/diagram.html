<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>03 - ReplicationController Architecture</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <link rel="stylesheet" href="../shared/styles.css">
    <script src="diagram.js"></script>
    <script src="../shared/diagram.js"></script>
</head>
<body>
    <div class="container difficulty-intermediate">
        <div class="navigation">
            <div>
                <a href="../02-nginx-pod/diagram.html" class="nav-btn">‚Üê Project 02</a>
            </div>
            <div>
                <a href="../index.html" class="nav-btn projects">üìã Projects</a>
            </div>
            <div>
                <a href="../04-replica-set/diagram.html" class="nav-btn">Project 04 ‚Üí</a>
            </div>
        </div>
        
        <div class="header">
            <h1>üìÑ ReplicationController Architecture</h1>
            <span class="complexity">Intermediate</span>
            <p>High availability through pod replication</p>
        </div>

        <div class="content">
            <div class="diagram-section">
                <div class="diagram-header">
                    <h2>System Architecture</h2>
                    <div class="zoom-controls">
                        <button class="zoom-btn" onclick="zoomIn()" title="Zoom In">+</button>
                        <button class="zoom-btn" onclick="zoomOut()" title="Zoom Out">-</button>
                        <button class="zoom-btn" onclick="resetZoom()" title="Reset Zoom">‚åÇ</button>
                        <button class="zoom-btn" onclick="fitToScreen()" title="Fit to Screen">‚ßâ</button>
                    </div>
                </div>
                <div id="mermaid-diagram">Loading diagram...</div>
            </div>

            <div class="info-panel">
                <div class="info-card">
                    <h3>üèóÔ∏è Components</h3>
                    <div class="component">
                        <strong>ReplicationController:</strong> Ensures 3 nginx pods are always running
                    </div>
                    <div class="component">
                        <strong>Pod Replicas:</strong> 3 identical nginx containers across different nodes
                    </div>
                    <div class="component">
                        <strong>High Availability:</strong> Automatic pod recreation on failure
                    </div>
                </div>

                <div class="info-card">
                    <h3>üéØ Key Concepts</h3>
                    <div class="component">
                        <strong>Replication:</strong> Maintains desired number of pod replicas
                    </div>
                    <div class="component">
                        <strong>Selectors:</strong> Uses labels to identify managed pods
                    </div>
                    <div class="component">
                        <strong>Self-healing:</strong> Automatically replaces failed pods
                    </div>
                </div>

                <div class="info-card">
                    <h3>üìã Deployment Commands</h3>
                    <pre style="background: #2d3748; color: #e2e8f0; padding: 10px; border-radius: 5px; font-size: 0.8em;">
# Deploy the ReplicationController
kubectl apply -f 03.replication_controller.yml

# Check ReplicationController status
kubectl get rc

# Check pods
kubectl get pods

# Scale the ReplicationController
kubectl scale rc myapp-rc --replicas=5

# Delete a pod (watch it recreate)
kubectl delete pod [pod-name]

# Clean up
kubectl delete -f 03.replication_controller.yml</pre>
                </div>
            </div>
        </div>
    </div>

</body>
</html>