<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>05 - Deployment Architecture</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <link rel="stylesheet" href="../shared/styles.css">
    <script src="diagram.js"></script>
    <script src="../shared/diagram.js"></script>
</head>
<body>
    <div class="container difficulty-intermediate">
        <div class="navigation">
            <div>
                <a href="../04-replica-set/diagram.html" class="nav-btn">â† Project 04</a>
            </div>
            <div>
                <a href="../index.html" class="nav-btn projects">ğŸ“‹ Projects</a>
            </div>
            <div>
                <a href="../06-update-rollback/diagram.html" class="nav-btn">Project 06 â†’</a>
            </div>
        </div>
        
        <div class="header">
            <h1>ğŸš€ Deployment Architecture</h1>
            <span class="complexity">Intermediate</span>
            <p>Declarative application deployment with rolling updates</p>
        </div>

        <div class="content">
            <div class="diagram-section">
                <div class="diagram-header">
                    <h2>System Architecture</h2>
                    <div class="zoom-controls">
                        <button class="zoom-btn" onclick="zoomIn()" title="Zoom In">+</button>
                        <button class="zoom-btn" onclick="zoomOut()" title="Zoom Out">-</button>
                        <button class="zoom-btn" onclick="resetZoom()" title="Reset Zoom">âŒ‚</button>
                        <button class="zoom-btn" onclick="fitToScreen()" title="Fit to Screen">â§‰</button>
                    </div>
                </div>
                <div id="mermaid-diagram">Loading diagram...</div>
            </div>

            <div class="info-panel">
                <div class="info-card">
                    <h3>ğŸ—ï¸ Components</h3>
                    <div class="component">
                        <strong>Deployment:</strong> myapp-deployment managing pod replicas
                    </div>
                    <div class="component">
                        <strong>ReplicaSet:</strong> Created automatically by deployment
                    </div>
                    <div class="component">
                        <strong>Pods:</strong> 2 replicas with nginx containers
                    </div>
                    <div class="component">
                        <strong>Strategy:</strong> Rolling updates for zero downtime
                    </div>
                </div>

                <div class="info-card">
                    <h3>ğŸ¯ Key Concepts</h3>
                    <div class="component">
                        <strong>Declarative:</strong> Desired state specified in YAML
                    </div>
                    <div class="component">
                        <strong>Rolling Updates:</strong> Gradual pod replacement strategy
                    </div>
                    <div class="component">
                        <strong>Replica Management:</strong> Maintains desired pod count
                    </div>
                    <div class="component">
                        <strong>Self-healing:</strong> Automatically recreates failed pods
                    </div>
                </div>

                <div class="info-card">
                    <h3>âš¡ Deployment Features</h3>
                    <div class="deployment-feature">Replica Management: Maintains 2 nginx pods</div>
                    <div class="deployment-feature">Rolling Updates: Zero-downtime application updates</div>
                    <div class="deployment-feature">Self-healing: Automatically replaces failed pods</div>
                    <div class="deployment-feature">Scalability: Easy horizontal pod scaling</div>
                    <div class="deployment-feature">Version Control: Track and rollback deployments</div>
                </div>

                <div class="info-card">
                    <h3>ğŸ’» Technology Stack</h3>
                    <div class="tech-stack">
                        <span class="tech">Kubernetes</span>
                        <span class="tech">Deployment</span>
                        <span class="tech">ReplicaSet</span>
                        <span class="tech">nginx</span>
                        <span class="tech">Docker</span>
                    </div>
                </div>

                <div class="info-card">
                    <h3>ğŸ“‹ Deployment Commands</h3>
                    <pre style="background: #2d3748; color: #e2e8f0; padding: 10px; border-radius: 5px; font-size: 0.8em;">
# Deploy the deployment
kubectl apply -f 05.deployment.yml

# Check deployment status
kubectl get deployments

# Check pods created
kubectl get pods

# Check replicasets
kubectl get rs

# Scale the deployment
kubectl scale deployment myapp-deployment --replicas=3

# Update deployment image
kubectl set image deployment/myapp-deployment nginx-container=nginx:1.21

# Check rollout status
kubectl rollout status deployment/myapp-deployment

# Rollback deployment
kubectl rollout undo deployment/myapp-deployment</pre>
                </div>
            </div>
        </div>
    </div>

</body>
</html>